@model Hotcakes.Modules.Core.Models.CheckoutAddressViewModel

<div class="col-xs-12">
    <div class="form-horizontal hcAddressForm">
        <div class="form-group hcAvailableAddresses"
            @if (!User.Identity.IsAuthenticated || Model.Addresses.Count == 0)
            {
                <text>style="display: none;"</text>
            }
            >
            <label class="col-sm-4 control-label">@Localization.GetString("AddressBook"):</label>
            <div class="col-sm-offset-0 col-sm-6">
                @Html.DropDownList(Model.Prefix + "AvailableAddresses",
                    new SelectList(Model.Addresses, "Bvin", "Line1", Model.Address.Bvin),
                    Localization.GetString("NotSelectedItem"), new {@class = "form-control"})
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-4 control-label">@Localization.GetString("Country"):</label>
            <div class="col-sm-offset-0 col-sm-6">
                <select id="@(Model.Prefix + "country")" name="@(Model.Prefix + "country")" class="form-control">
                    @foreach (var c in Model.Countries)
                    {
                        if (Model.Address.CountryBvin == c.Bvin)
                        {
                        <option value="@c.Bvin" selected="selected">@c.DisplayName</option>
                        }
                        else
                        {
                        <option value="@c.Bvin">@c.DisplayName</option>
                        }
                    }
                </select>
            </div>
        </div>
        <div class="form-group dnnFormRequired">
            <label class="col-sm-4 control-label">@Localization.GetString("FirstName"):</label>
            <div class="col-sm-offset-0 col-sm-6">
                <input type="text" id="@(Model.Prefix + "firstname")" name="@(Model.Prefix + "firstname")"
                        size="20" value="@Model.Address.FirstName" class="form-control @Model.IsErr("firstname")" />
            </div>
        </div>
        <div class="form-group dnnFormRequired">
            <label class="col-sm-4 control-label">@Localization.GetString("LastName"):</label>
            <div class="col-sm-offset-0 col-sm-6">
                <input type="text" id="@(Model.Prefix + "lastname")" name="@(Model.Prefix + "lastname")"
                        size="20" value="@Model.Address.LastName" class="form-control @Model.IsErr("lastname")" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-4 control-label">@Localization.GetString("Company"):</label>
            <div class="col-sm-offset-0 col-sm-6">
                <input type="text" id="@(Model.Prefix + "company")" name="@(Model.Prefix + "company")"
                        size="20" value="@Model.Address.Company" class="form-control @Model.IsErr("company")" />
            </div>
        </div>
        <div class="form-group dnnFormRequired">
            <label class="col-sm-4 control-label">@Localization.GetString("Address"):</label>
            <div class="col-sm-offset-0 col-sm-6">
                <input type="text" id="@(Model.Prefix + "address")" name="@(Model.Prefix + "address")"
                        size="20" value="@Model.Address.Line1" class="form-control @Model.IsErr("address")" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-4 control-label"></label>
            <div class="col-sm-offset-0 col-sm-6">
                <input type="text" id="@(Model.Prefix + "address2")" name="@(Model.Prefix + "address2")"
                        size="20" value="@Model.Address.Line2" class="form-control @Model.IsErr("address")" />
            </div>
        </div>
        <div class="form-group dnnFormRequired">
            <label class="col-sm-4 control-label">@Localization.GetString("City"):</label>
            <div class="col-sm-offset-0 col-sm-6">
                <input type="text" id="@(Model.Prefix + "city")" name="@(Model.Prefix + "city")"
                        size="20" value="@Model.Address.City" class="form-control @Model.IsErr("city")" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-4 control-label">@Localization.GetString("State"):</label>
            <div class="col-sm-offset-0 col-sm-6">
                <select id="@(Model.Prefix + "state")" name="@(Model.Prefix + "state")" class="form-control"></select>
                <input type="hidden" id="@(Model.Prefix + "tempregion")" value="@Model.Address.RegionBvin" />
            </div>
        </div>
        <div class="form-group dnnFormRequired">
            <label class="col-sm-4 control-label">@Localization.GetString("PostalCode"):</label>
            <div class="col-sm-offset-0 col-sm-6">
                <input type="text" id="@(Model.Prefix + "zip")" name="@(Model.Prefix + "zip")" 
                        size="10" value="@Model.Address.PostalCode" class="form-control @Model.IsErr("zip")" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-4 control-label">@Localization.GetString("Phone"):</label>
            <div class="col-sm-offset-0 col-sm-6">
                <input type="text" id="@(Model.Prefix + "phone")" name="@(Model.Prefix + "phone")" 
                        value="@Model.Address.Phone" size="20" class="form-control @Model.IsErr("phone")" />
            </div>
        </div>
        <input type="hidden" id="@(Model.Prefix + "addressbvin")" name="@(Model.Prefix + "addressbvin")" value="@Model.Address.Bvin" />
    </div>
</div>